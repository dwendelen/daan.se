<html>
<body>
<input id="speed" type="text" value="600">
<button onclick="start()">Start</button><br>
<canvas id="canvas" width="400" height="300"></canvas>
<script>
    let canvas = document.getElementById("canvas");
    let ctx = canvas.getContext("2d");

    let positions = [[1, 1], [2, 1], [3, 1], [1, 2], [2, 2], [3, 2]];

    let intervalHandler = null;

    draw();

    function start() {
        if(intervalHandler !== null) {
            clearInterval(intervalHandler);
        }
        let speed = Number.parseFloat(document.getElementById("speed").value);
        let prev = 0
        intervalHandler = setInterval(() => {
            let toFill = (prev + 1 + Math.floor(Math.random() * 5)) % 6;
            prev = toFill
            draw();
            setTimeout(() => {
                draw(toFill);
            }, 100);
        }, speed);
    }

    function draw(toFill) {
        ctx.clearRect(0, 0, 1000, 1000)
        for (let i = 0; i < 6; i++) {
            let pos = positions[i];
            let delta;
            if(i === toFill) {
                delta = 0
            } else {
                delta = 0.5
            }
            ctx.beginPath();
            ctx.rect(pos[0] * 100 + delta, pos[1] * 100 + delta, 50, 50);
            if(i === toFill) {
                ctx.fill();
            } else {
                ctx.stroke();
            }
        }
    }
</script>
</body>
</html>
